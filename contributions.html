<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body, html { 
    margin: 0; 
    padding: 0; 
    width: 100%;
    height: 100%;
    background: transparent;
    overflow: hidden;
  }
  .grid { 
    display: grid; 
    grid-template-rows: repeat(7, 1fr); 
    grid-auto-flow: column; 
    gap: 0.1vw; 
    width: 98%;
    height: 95%;
    margin: 1%;
  }
  .cell { 
    width: 100%; 
    height: 100%; 
    border-radius: 15%; 
    min-width: 0.3vw;
    min-height: 0.3vw;
  }
  .level-0 { background-color: #151B23; }
  .level-1 { background-color: #033A16; }
  .level-2 { background-color: #196C2E; }
  .level-3 { background-color: #2EA043; }
  .level-4 { background-color: #56D364; }
  .current-day { background-color: #FCC5E9 !important; }
</style>
</head>
<body>
<div class="grid" id="grid"></div>
<script>
fetch('contributions2025.json')
  .then(r => r.json())
  .then(data => {
    const full = [];
    let cur = new Date('2025-01-05'), end = new Date('2025-12-27');
    while(cur <= end) {
      const d = cur.toISOString().slice(0,10);
      const entry = data.find(x => x.date === d);
      full.push({ date: d, contributions: entry ? entry.contributions : 0 });
      cur.setDate(cur.getDate()+1);
    }
    const grid = document.getElementById('grid');
    const today = new Date().toISOString().slice(0,10);
    full.forEach(i => {
      const c = document.createElement('div');
      const levelClass = i.contributions===0?'level-0':i.contributions===1?'level-1':i.contributions<=4?'level-2':i.contributions<=7?'level-3':'level-4';
      c.className = 'cell ' + levelClass + (i.date === today ? ' current-day' : '');
      grid.appendChild(c);
    });
  })
  .catch(() => {
    // Fallback: use 0 contributions if JSON fails to load
    const full = [];
    let cur = new Date('2025-01-05'), end = new Date('2025-12-27');
    while(cur <= end) {
      const d = cur.toISOString().slice(0,10);
      full.push({ date: d, contributions: 0 });
      cur.setDate(cur.getDate()+1);
    }
    const grid = document.getElementById('grid');
    const today = new Date().toISOString().slice(0,10);
    full.forEach(i => {
      const c = document.createElement('div');
      const levelClass = i.contributions===0?'level-0':i.contributions===1?'level-1':i.contributions<=4?'level-2':i.contributions<=7?'level-3':'level-4';
      c.className = 'cell ' + levelClass + (i.date === today ? ' current-day' : '');
      grid.appendChild(c);
    });
  });
</script>
</body>
</html>