<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bob Santos — 3D Camera Accessories | COLECTIVO</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Syne:wght@400;500;700;800&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --bg: #0c1220; --fg: #e0e8f0; --accent: #4dc9f6; --accent2: #2a9fd6; --dim: #5a6a7a; --card-bg: #111a2a; --border: rgba(77,201,246,0.12);
  --display: 'Syne', system-ui, sans-serif; --mono: 'Space Mono', 'Courier New', monospace;
}
html { font-size: 100%; scroll-behavior: smooth; }
body { background: var(--bg); color: var(--fg); font-family: var(--mono); line-height: 1.6; overflow-x: hidden; }

/* Blueprint grid overlay */
body::after { content: ''; position: fixed; inset: 0; pointer-events: none; z-index: 9999; opacity: 0.025; background-image: linear-gradient(var(--accent) 0.0625rem, transparent 0.0625rem), linear-gradient(90deg, var(--accent) 0.0625rem, transparent 0.0625rem); background-size: 4rem 4rem; }

/* NAV */
nav { position: fixed; top: 0; left: 0; right: 0; z-index: 100; display: flex; align-items: center; justify-content: space-between; padding: clamp(0.85rem,1.8vw,1.25rem) clamp(1.5rem,5vw,4rem); background: rgba(12,18,32,0.9); backdrop-filter: blur(1.5rem); border-bottom: 0.0625rem solid var(--border); }
.nav-logo { font-family: var(--display); font-size: clamp(1.15rem,2.2vw,1.5rem); font-weight: 800; letter-spacing: 0.08em; text-transform: uppercase; color: var(--fg); text-decoration: none; }
.nav-links { display: flex; gap: clamp(1rem,2.5vw,2rem); list-style: none; }
.nav-links a { color: var(--dim); text-decoration: none; font-size: clamp(0.6rem,0.95vw,0.75rem); letter-spacing: 0.12em; text-transform: uppercase; transition: color 0.3s; }
.nav-links a:hover { color: var(--accent); }
.nav-links a.active { color: rgba(224,232,240,0.18); pointer-events: none; }
.nav-burger { display: none; flex-direction: column; gap: 0.3rem; background: none; border: none; cursor: pointer; padding: 0.5rem; }
.nav-burger span { display: block; width: 1.4rem; height: 0.1rem; background: var(--fg); transition: transform 0.3s, opacity 0.3s; }
.nav-burger.open span:nth-child(1){transform:translateY(.4rem) rotate(45deg)} .nav-burger.open span:nth-child(2){opacity:0} .nav-burger.open span:nth-child(3){transform:translateY(-.4rem) rotate(-45deg)}
.mobile-menu { display: none; position: fixed; inset: 0; z-index: 99; background: rgba(12,18,32,0.98); flex-direction: column; align-items: center; justify-content: center; gap: 1.75rem; }
.mobile-menu.open { display: flex; }
.mobile-menu a { color: var(--fg); text-decoration: none; font-family: var(--display); font-size: clamp(1.8rem,5vw,3rem); font-weight: 700; }
.mobile-menu a.active { color: rgba(224,232,240,0.15); }
@media (max-width: 48em) { .nav-links { display: none; } .nav-burger { display: flex; } }

/* HERO */
.hero { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; padding: clamp(6rem,12vw,10rem) clamp(1.5rem,5vw,4rem); position: relative; }
.hero::before { content: ''; position: absolute; top: 10%; right: 5%; width: clamp(10rem,30vw,20rem); height: clamp(10rem,30vw,20rem); border: 0.0625rem solid rgba(77,201,246,0.1); border-radius: 50%; pointer-events: none; }
.hero::after { content: ''; position: absolute; top: 15%; right: 8%; width: clamp(6rem,18vw,12rem); height: clamp(6rem,18vw,12rem); border: 0.0625rem dashed rgba(77,201,246,0.06); border-radius: 50%; pointer-events: none; }
.hero h1 { font-family: var(--display); font-size: clamp(3.5rem,13vw,10rem); line-height: 0.9; font-weight: 800; letter-spacing: -0.02em; }
.hero h1 .accent { color: var(--accent); }
.hero-meta { margin-top: clamp(1.5rem,3vw,2rem); font-size: clamp(0.6rem,0.9vw,0.72rem); color: var(--dim); letter-spacing: 0.2em; text-transform: uppercase; display: flex; flex-wrap: wrap; gap: 1.5rem; }
.hero-meta span::before { content: '→'; color: var(--accent); margin-right: 0.5rem; }
.hero-bio { margin-top: clamp(1.5rem,3vw,2.5rem); font-size: clamp(0.8rem,1.15vw,0.92rem); color: var(--dim); max-width: 32em; line-height: 1.8; }

/* DIVIDER */
.divider { padding: 0 clamp(1.5rem,5vw,4rem); }
.divider-line { height: 0.0625rem; background: var(--border); position: relative; }
.divider-line::before { content: attr(data-label); position: absolute; left: 0; top: 50%; transform: translateY(-50%); background: var(--bg); padding-right: 1rem; font-size: 0.55rem; letter-spacing: 0.25em; text-transform: uppercase; color: var(--dim); }

/* FILTER */
.filters { display: flex; flex-wrap: wrap; gap: 0.4rem; padding: clamp(2rem,4vw,3rem) clamp(1.5rem,5vw,4rem) 0; }
.filter-btn { padding: 0.45em 1em; border: 0.0625rem solid var(--border); border-radius: 0.2rem; background: none; color: var(--dim); font-family: var(--mono); font-size: clamp(0.55rem,0.85vw,0.68rem); cursor: pointer; transition: all 0.3s; letter-spacing: 0.08em; text-transform: uppercase; }
.filter-btn:hover { border-color: var(--accent); color: var(--fg); }
.filter-btn.active { background: var(--accent); color: var(--bg); border-color: var(--accent); }

/* PRODUCTS */
.products-section { padding: clamp(2rem,4vw,3rem) clamp(1.5rem,5vw,4rem) clamp(4rem,8vw,6rem); }
.products-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(min(16rem,100%),1fr)); gap: clamp(1rem,2vw,1.5rem); }
.product-card { background: var(--card-bg); border: 0.0625rem solid var(--border); border-radius: 0.35rem; overflow: hidden; cursor: grab; user-select: none; transition: border-color 0.3s, transform 0.3s, box-shadow 0.3s; }
.product-card:active { cursor: grabbing; }
.product-card:hover { border-color: rgba(77,201,246,0.35); transform: translateY(-0.15rem); box-shadow: 0 0.5rem 1.5rem rgba(0,0,0,0.3); }
.product-card.dragging { opacity: 0.4; transform: scale(0.95); }
.product-card img { width: 100%; aspect-ratio: 1/1; object-fit: cover; display: block; filter: saturate(0.7) brightness(0.9); transition: filter 0.4s; }
.product-card:hover img { filter: saturate(1) brightness(1); }
.product-card-img { position: relative; }
.product-badge { position: absolute; top: 0.65rem; left: 0.65rem; background: var(--accent); color: var(--bg); font-size: 0.5rem; font-weight: 700; padding: 0.2em 0.5em; border-radius: 0.15rem; letter-spacing: 0.1em; text-transform: uppercase; }
.drag-hint { position: absolute; bottom: 0.65rem; right: 0.65rem; font-size: 0.5rem; color: var(--dim); background: rgba(12,18,32,0.85); padding: 0.2em 0.5em; border-radius: 0.15rem; opacity: 0; transition: opacity 0.3s; letter-spacing: 0.1em; text-transform: uppercase; }
.product-card:hover .drag-hint { opacity: 1; }
.product-info { padding: clamp(0.85rem,1.6vw,1.1rem); }
.product-name { font-family: var(--display); font-size: clamp(1rem,1.6vw,1.2rem); font-weight: 700; margin-bottom: 0.2rem; }
.product-desc { font-size: clamp(0.6rem,0.88vw,0.72rem); color: var(--dim); line-height: 1.5; margin-bottom: 0.6rem; }
.product-tags { display: flex; flex-wrap: wrap; gap: 0.25rem; margin-bottom: 0.6rem; }
.product-tag { font-size: clamp(0.45rem,0.65vw,0.55rem); padding: 0.2em 0.5em; background: rgba(77,201,246,0.08); border-radius: 0.15rem; color: var(--accent); letter-spacing: 0.05em; }
.product-bottom { display: flex; justify-content: space-between; align-items: center; }
.product-price { font-size: clamp(0.9rem,1.3vw,1.05rem); font-weight: 700; color: var(--accent); }
.product-btn { background: none; border: 0.0625rem solid var(--border); color: var(--fg); font-family: var(--mono); font-size: clamp(0.5rem,0.72vw,0.58rem); letter-spacing: 0.12em; text-transform: uppercase; padding: 0.45em 0.9em; cursor: pointer; transition: border-color 0.3s, background 0.3s; border-radius: 0.15rem; }
.product-btn:hover { border-color: var(--accent); background: rgba(77,201,246,0.1); }

/* CART */
.cart-zone { position: fixed; bottom: clamp(1rem,3vw,2rem); right: clamp(1rem,3vw,2rem); z-index: 50; background: var(--card-bg); border: 0.125rem dashed var(--border); border-radius: 0.5rem; padding: clamp(0.75rem,1.5vw,1rem) clamp(1rem,2vw,1.5rem); min-width: clamp(12rem,20vw,16rem); transition: border-color 0.3s, background 0.3s, transform 0.3s; }
.cart-zone.drag-over { border-color: var(--accent); background: rgba(77,201,246,0.06); transform: scale(1.03); }
.cart-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; font-size: clamp(0.6rem,0.88vw,0.7rem); letter-spacing: 0.15em; text-transform: uppercase; color: var(--dim); }
.cart-items { display: flex; flex-direction: column; gap: 0.2rem; max-height: 10rem; overflow-y: auto; }
.cart-item { display: flex; justify-content: space-between; align-items: center; font-size: clamp(0.55rem,0.82vw,0.65rem); padding: 0.3em 0; border-bottom: 0.0625rem solid var(--border); animation: cartIn 0.3s ease; }
@keyframes cartIn { from{opacity:0;transform:translateX(.5rem)} to{opacity:1;transform:translateX(0)} }
.cart-item-rm { background: none; border: none; color: var(--accent); cursor: pointer; font-size: 0.7rem; padding: 0.2em; }
.cart-total { margin-top: 0.5rem; padding-top: 0.5rem; border-top: 0.0625rem solid var(--border); display: flex; justify-content: space-between; font-size: clamp(0.65rem,0.95vw,0.78rem); font-weight: 700; }
.cart-checkout { margin-top: 0.75rem; width: 100%; padding: 0.6em; background: var(--accent); color: var(--bg); border: none; font-family: var(--mono); font-size: clamp(0.55rem,0.82vw,0.65rem); letter-spacing: 0.12em; text-transform: uppercase; cursor: pointer; border-radius: 0.2rem; transition: opacity 0.3s; font-weight: 700; }
.cart-checkout:hover { opacity: 0.85; }
.cart-empty { font-size: clamp(0.55rem,0.82vw,0.65rem); color: var(--dim); text-align: center; padding: 0.5rem 0; }
.cart-toggle-mobile { display: none; position: fixed; bottom: clamp(1rem,3vw,2rem); right: clamp(1rem,3vw,2rem); z-index: 51; width: 3rem; height: 3rem; border-radius: 0.35rem; background: var(--accent); border: none; color: var(--bg); font-size: 1.1rem; cursor: pointer; box-shadow: 0 0.25rem 1rem rgba(0,0,0,0.4); align-items: center; justify-content: center; font-weight: 700; }
.cart-badge { position: absolute; top: -0.25rem; right: -0.25rem; background: var(--fg); color: var(--bg); font-size: 0.5rem; width: 1.1em; height: 1.1em; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; }
@media (max-width: 48em) { .cart-zone { display: none; bottom: 4.5rem; right: .75rem; left: .75rem; min-width: auto; } .cart-zone.mobile-open { display: block; } .cart-toggle-mobile { display: flex; } }

/* ABOUT */
.about-section { padding: clamp(4rem,8vw,6rem) clamp(1.5rem,5vw,4rem); display: grid; grid-template-columns: repeat(auto-fit, minmax(min(17rem,100%),1fr)); gap: clamp(2rem,4vw,4rem); align-items: center; }
.about-img { width: 100%; aspect-ratio: 1/1; object-fit: cover; border-radius: 0.5rem; border: 0.0625rem solid var(--border); display: block; }
.about-text h2 { font-family: var(--display); font-size: clamp(1.8rem,3.5vw,2.5rem); font-weight: 800; margin-bottom: clamp(1rem,2vw,1.5rem); }
.about-text h2 .accent { color: var(--accent); }
.about-text p { font-size: clamp(0.78rem,1.1vw,0.88rem); color: var(--dim); line-height: 1.8; margin-bottom: 1rem; }
.specs { display: flex; flex-wrap: wrap; gap: 0.4rem; margin-top: 1rem; }
.spec { font-size: clamp(0.52rem,0.78vw,0.62rem); padding: 0.35em 0.7em; border: 0.0625rem solid var(--border); border-radius: 0.2rem; color: var(--accent); }

/* INFO */
.info-grid { padding: clamp(2rem,4vw,3rem) clamp(1.5rem,5vw,4rem) clamp(4rem,8vw,6rem); display: grid; grid-template-columns: repeat(auto-fit, minmax(min(15rem,100%),1fr)); gap: clamp(1.5rem,3vw,2rem); }
.info-card { border: 0.0625rem solid var(--border); border-radius: 0.35rem; padding: clamp(1.25rem,2.5vw,1.75rem); }
.info-card h3 { font-family: var(--display); font-size: clamp(1rem,1.6vw,1.2rem); font-weight: 700; margin-bottom: 0.4rem; }
.info-card p { font-size: clamp(0.72rem,1vw,0.82rem); color: var(--dim); line-height: 1.6; }

footer { border-top: 0.0625rem solid var(--border); padding: clamp(2rem,4vw,3rem) clamp(1.5rem,5vw,4rem); display: flex; flex-wrap: wrap; justify-content: space-between; gap: 1rem; }
footer span { font-size: 0.65rem; color: var(--dim); }
.footer-links { display: flex; gap: 1.5rem; list-style: none; }
.footer-links a { font-size: 0.65rem; color: var(--dim); text-decoration: none; transition: color 0.3s; }
.footer-links a:hover { color: var(--accent); }

.reveal { opacity: 0; transform: translateY(1.5rem); transition: opacity 0.8s ease, transform 0.8s ease; }
.reveal.visible { opacity: 1; transform: translateY(0); }
.touch-ghost { position: fixed; z-index: 200; pointer-events: none; opacity: 0.85; transform: scale(0.6); background: var(--card-bg); border: 0.125rem solid var(--accent); border-radius: 0.25rem; padding: 0.5rem 0.75rem; font-family: var(--mono); font-size: 0.65rem; color: var(--fg); white-space: nowrap; box-shadow: 0 0.5rem 2rem rgba(0,0,0,0.5); }
</style>
</head>
<body>

<nav>
  <a href="index.html" class="nav-logo">Colectivo</a>
  <ul class="nav-links">
    <li><a href="index.html">Home</a></li>
    <li><a href="services.html">Services</a></li>
    <li><a href="artist-luna.html">Luna</a></li>
    <li><a href="artist-bob.html" class="active">Bob</a></li>
    <li><a href="artist-marco.html">Marco</a></li>
    <li><a href="index.html#about">About</a></li>
  </ul>
  <button class="nav-burger" aria-label="Menu"><span></span><span></span><span></span></button>
</nav>
<div class="mobile-menu">
  <a href="index.html">Home</a><a href="services.html">Services</a><a href="artist-luna.html">Luna</a><a href="artist-bob.html" class="active">Bob</a><a href="artist-marco.html">Marco</a><a href="index.html#about">About</a>
</div>

<section class="hero">
  <h1>BOB<br><span class="accent">SANTOS</span></h1>
  <div class="hero-meta"><span>Almada, PT</span><span>Prusa MK4</span><span>PLA + PETG</span></div>
  <p class="hero-bio">Functional art for analog shooters. Every accessory is designed in Fusion 360, sliced with care, and printed in a workshop overlooking the Tagus. If it doesn't feel right in your hands, it goes back to the drawing board.</p>
</section>

<div class="divider"><div class="divider-line" data-label="Camera Accessories"></div></div>

<div class="filters">
  <button class="filter-btn active" data-filter="all">All</button>
  <button class="filter-btn" data-filter="lens">Lens</button>
  <button class="filter-btn" data-filter="mount">Mounts</button>
  <button class="filter-btn" data-filter="grip">Grips</button>
  <button class="filter-btn" data-filter="other">Other</button>
</div>

<div class="cart-zone" id="cartZone">
  <div class="cart-header">⬡ Drop items here</div>
  <div class="cart-items" id="cartItems"><div class="cart-empty">Drag a product to add it</div></div>
  <div class="cart-total" id="cartTotal" style="display:none"><span>Total</span><span id="cartTotalValue">€0</span></div>
  <button class="cart-checkout" id="cartCheckout" style="display:none">Checkout via Stripe →</button>
</div>
<button class="cart-toggle-mobile" id="cartToggle">⬡<span class="cart-badge" id="cartBadge" style="display:none">0</span></button>

<section class="products-section">
  <div class="products-grid" id="productsGrid">
    <div class="product-card reveal" draggable="true" data-id="b1" data-title="Universal Lens Cap 49mm" data-price="8" data-category="lens">
      <div class="product-card-img"><img src="https://images.unsplash.com/photo-1617575521317-d2974f3b56d2?w=500&q=80" alt="3D printed lens cap" loading="lazy"><span class="product-badge">Popular</span><span class="drag-hint">⤱ Drag to cart</span></div>
      <div class="product-info"><div class="product-name">Universal Lens Cap 49mm</div><div class="product-desc">Snap-fit cap for 49mm filter threads. Secure grip, satisfying click.</div><div class="product-tags"><span class="product-tag">49mm</span><span class="product-tag">PLA</span></div><div class="product-bottom"><span class="product-price">€8</span><button class="product-btn" data-id="b1">Add</button></div></div>
    </div>
    <div class="product-card reveal" draggable="true" data-id="b2" data-title="Universal Lens Cap 52mm" data-price="8" data-category="lens">
      <div class="product-card-img"><img src="https://images.unsplash.com/photo-1612815154858-60aa4c59eaa6?w=500&q=80" alt="Lens cap" loading="lazy"><span class="drag-hint">⤱ Drag to cart</span></div>
      <div class="product-info"><div class="product-name">Universal Lens Cap 52mm</div><div class="product-desc">Same design, 52mm thread. Fits most vintage lenses. Matte black.</div><div class="product-tags"><span class="product-tag">52mm</span><span class="product-tag">PLA</span></div><div class="product-bottom"><span class="product-price">€8</span><button class="product-btn" data-id="b2">Add</button></div></div>
    </div>
    <div class="product-card reveal" draggable="true" data-id="b3" data-title="Tripod Quick-Release" data-price="12" data-category="mount">
      <div class="product-card-img"><img src="https://images.unsplash.com/photo-1631700611307-37dbcb89ef7e?w=500&q=80" alt="Quick release plate" loading="lazy"><span class="product-badge">New</span><span class="drag-hint">⤱ Drag to cart</span></div>
      <div class="product-info"><div class="product-name">Tripod Quick-Release Plate</div><div class="product-desc">Arca-Swiss compatible. PETG for strength. ¼"-20 brass thread insert.</div><div class="product-tags"><span class="product-tag">Arca-Swiss</span><span class="product-tag">PETG</span></div><div class="product-bottom"><span class="product-price">€12</span><button class="product-btn" data-id="b3">Add</button></div></div>
    </div>
    <div class="product-card reveal" draggable="true" data-id="b4" data-title="Leica M6 Half-Grip" data-price="18" data-category="grip">
      <div class="product-card-img"><img src="https://images.unsplash.com/photo-1495707902641-75cac588d2e9?w=500&q=80" alt="Camera grip" loading="lazy"><span class="drag-hint">⤱ Drag to cart</span></div>
      <div class="product-info"><div class="product-name">Leica M6 Half-Grip</div><div class="product-desc">Ergonomic base grip for Leica M6. TPU rubber contact points.</div><div class="product-tags"><span class="product-tag">Leica M6</span><span class="product-tag">PLA+TPU</span></div><div class="product-bottom"><span class="product-price">€18</span><button class="product-btn" data-id="b4">Add</button></div></div>
    </div>
    <div class="product-card reveal" draggable="true" data-id="b5" data-title="Film Canister Belt Clip" data-price="6" data-category="other">
      <div class="product-card-img"><img src="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=500&q=80" alt="Film canister" loading="lazy"><span class="drag-hint">⤱ Drag to cart</span></div>
      <div class="product-info"><div class="product-name">Film Canister Belt Clip</div><div class="product-desc">Holds two 35mm canisters. Clips to belt or bag strap.</div><div class="product-tags"><span class="product-tag">35mm</span><span class="product-tag">PETG</span></div><div class="product-bottom"><span class="product-price">€6</span><button class="product-btn" data-id="b5">Add</button></div></div>
    </div>
    <div class="product-card reveal" draggable="true" data-id="b6" data-title="Cold Shoe Flash Adapter" data-price="10" data-category="mount">
      <div class="product-card-img"><img src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?w=500&q=80" alt="Flash mount" loading="lazy"><span class="drag-hint">⤱ Drag to cart</span></div>
      <div class="product-info"><div class="product-name">Cold Shoe Flash Adapter</div><div class="product-desc">Mount flash or mic to any cold shoe. Universal fit with locking screw.</div><div class="product-tags"><span class="product-tag">Universal</span><span class="product-tag">PLA</span></div><div class="product-bottom"><span class="product-price">€10</span><button class="product-btn" data-id="b6">Add</button></div></div>
    </div>
  </div>
</section>

<div class="divider"><div class="divider-line" data-label="About"></div></div>
<section class="about-section">
  <img class="about-img reveal" src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=600&q=80" alt="Bob Santos" loading="lazy">
  <div class="about-text reveal">
    <h2>ABOUT <span class="accent">BOB</span></h2>
    <p>Bob started 3D printing camera parts because he got tired of paying €40 for a plastic lens cap. What started as a weekend hobby in his Almada flat turned into the maker arm of Colectivo.</p>
    <p>Every design starts in Fusion 360, gets test-printed at least three times, and ships only when it feels right. All accessories are printed on a Prusa MK4 with high-quality PLA or PETG at 40%+ infill. No flimsy parts.</p>
    <div class="specs"><span class="spec">Prusa MK4</span><span class="spec">Fusion 360</span><span class="spec">PrusaSlicer</span><span class="spec">PLA</span><span class="spec">PETG</span><span class="spec">TPU</span><span class="spec">40%+ Infill</span></div>
  </div>
</section>

<div class="info-grid">
  <div class="info-card reveal"><h3>Materials</h3><p>PLA for standard parts, PETG for anything that needs extra durability, TPU for rubber contact points. All prints use 40%+ infill.</p></div>
  <div class="info-card reveal"><h3>Custom Orders</h3><p>Need something specific? Book a consultation on the services page and Bob will design it from scratch.</p></div>
  <div class="info-card reveal"><h3>Shipping</h3><p>Free in Portugal via CTT. EU from €3.50. Printed fresh per order — ships in 3-5 business days.</p></div>
</div>

<footer>
  <span>© 2026 Bob Santos / Colectivo</span>
  <ul class="footer-links"><li><a href="index.html">Home</a></li><li><a href="privacy.html">Privacy</a></li></ul>
</footer>

<script>
const burger=document.querySelector('.nav-burger'),mm=document.querySelector('.mobile-menu');
burger.addEventListener('click',()=>{burger.classList.toggle('open');mm.classList.toggle('open');document.body.style.overflow=mm.classList.contains('open')?'hidden':'';});
mm.querySelectorAll('a').forEach(a=>a.addEventListener('click',()=>{burger.classList.remove('open');mm.classList.remove('open');document.body.style.overflow='';}));
const obs=new IntersectionObserver(e=>{e.forEach(x=>{if(x.isIntersecting)x.target.classList.add('visible');});},{threshold:0.1});
document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));

// Filters
document.querySelectorAll('.filter-btn').forEach(btn=>{btn.addEventListener('click',()=>{document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));btn.classList.add('active');const f=btn.dataset.filter;document.querySelectorAll('.product-card').forEach(c=>{c.style.display=(f==='all'||c.dataset.category===f)?'':'none';});});});

// Cart
const cart=[];
const cartZone=document.getElementById('cartZone'),cartItems=document.getElementById('cartItems'),cartTotal=document.getElementById('cartTotal'),cartTotalValue=document.getElementById('cartTotalValue'),cartCheckout=document.getElementById('cartCheckout'),cartToggle=document.getElementById('cartToggle'),cartBadge=document.getElementById('cartBadge');
function addToCart(id,title,price){if(cart.find(i=>i.id===id))return;cart.push({id,title,price:parseFloat(price)});renderCart();}
function removeFromCart(id){const i=cart.findIndex(x=>x.id===id);if(i>-1)cart.splice(i,1);renderCart();}
function renderCart(){if(!cart.length){cartItems.innerHTML='<div class="cart-empty">Drag a product to add it</div>';cartTotal.style.display='none';cartCheckout.style.display='none';cartBadge.style.display='none';return;}cartItems.innerHTML=cart.map(i=>`<div class="cart-item"><span>${i.title}</span><span>€${i.price}</span><button class="cart-item-rm" onclick="removeFromCart('${i.id}')">✕</button></div>`).join('');const t=cart.reduce((s,i)=>s+i.price,0);cartTotalValue.textContent='€'+t;cartTotal.style.display='flex';cartCheckout.style.display='block';cartBadge.style.display='flex';cartBadge.textContent=cart.length;}

document.querySelectorAll('.product-card').forEach(c=>{c.addEventListener('dragstart',e=>{c.classList.add('dragging');e.dataTransfer.setData('text/plain',JSON.stringify({id:c.dataset.id,title:c.dataset.title,price:c.dataset.price}));});c.addEventListener('dragend',()=>c.classList.remove('dragging'));});
cartZone.addEventListener('dragover',e=>{e.preventDefault();cartZone.classList.add('drag-over');});
cartZone.addEventListener('dragleave',()=>cartZone.classList.remove('drag-over'));
cartZone.addEventListener('drop',e=>{e.preventDefault();cartZone.classList.remove('drag-over');try{const d=JSON.parse(e.dataTransfer.getData('text/plain'));addToCart(d.id,d.title,d.price);}catch(err){}});

let td=null,tg=null;
document.querySelectorAll('.product-card').forEach(c=>{
  c.addEventListener('touchstart',e=>{const t=e.touches[0];td={id:c.dataset.id,title:c.dataset.title,price:c.dataset.price,sx:t.clientX,sy:t.clientY,dragging:false,card:c};},{passive:true});
  c.addEventListener('touchmove',e=>{if(!td)return;const t=e.touches[0];if(!td.dragging&&(Math.abs(t.clientX-td.sx)>10||Math.abs(t.clientY-td.sy)>10)){td.dragging=true;td.card.classList.add('dragging');tg=document.createElement('div');tg.className='touch-ghost';tg.textContent=td.title;document.body.appendChild(tg);}if(td.dragging){e.preventDefault();tg.style.left=t.clientX/16+'rem';tg.style.top=(t.clientY/16-2)+'rem';const r=cartZone.getBoundingClientRect();cartZone.classList.toggle('drag-over',t.clientX>=r.left&&t.clientX<=r.right&&t.clientY>=r.top&&t.clientY<=r.bottom);}},{passive:false});
  c.addEventListener('touchend',e=>{if(!td)return;td.card.classList.remove('dragging');if(td.dragging){const t=e.changedTouches[0];const r=cartZone.getBoundingClientRect();if(t.clientX>=r.left&&t.clientX<=r.right&&t.clientY>=r.top&&t.clientY<=r.bottom)addToCart(td.id,td.title,td.price);cartZone.classList.remove('drag-over');if(tg){tg.remove();tg=null;}}td=null;});
});
document.querySelectorAll('.product-btn').forEach(b=>{b.addEventListener('click',e=>{e.stopPropagation();const c=b.closest('.product-card');addToCart(c.dataset.id,c.dataset.title,c.dataset.price);});});
cartToggle.addEventListener('click',()=>cartZone.classList.toggle('mobile-open'));
cartCheckout.addEventListener('click',()=>{alert('Stripe Checkout:\n\n'+cart.map(i=>`${i.title} — €${i.price}`).join('\n')+'\n\nTotal: €'+cart.reduce((s,i)=>s+i.price,0));});
</script>
</body>
</html>
